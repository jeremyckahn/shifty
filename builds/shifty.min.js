/**
Shifty - A teeny tiny tweening engine in JavaScript. v0.5.0+
By Jeremy Kahn - jeremyckahn@gmail.com

For instructions on how to use Shifty, please consult the README: https://github.com/jeremyckahn/shifty/blob/master/README.md

MIT Lincense.  This code free to use, modify, distribute and enjoy.
*/
(function(){var b;(function(a){function g(a,c){for(var f in a)a.hasOwnProperty(f)&&c(a,f)}function k(a,c){g(c,function(c,f){a[f]=c[f]});return a}function i(a,c){g(c,function(c,f){"undefined"===typeof a[f]&&(a[f]=c[f])});return a}function j(a,c,f){var e,a=(a-c.timestamp)/c.duration;for(e in f.current)f.current.hasOwnProperty(e)&&c.to.hasOwnProperty(e)&&(f.current[e]=d(c.originalState[e],c.to[e],n[c.easing[e]],a));return f.current}function d(a,c,f,e){return a+(c-a)*f(e)}function h(a,c,f,e){var b;for(b=
0;b<c[a].length;b++)c[a][b].apply(f,e)}function l(a,c,f){g(b.prototype.filter,function(e,b){e[b][a]&&e[b][a].apply(c,f)})}function m(a,c){var e;e=f();e<a.timestamp+a.duration&&c.isTweening?(c.loopId=setTimeout(function(){m(a,c)},1E3/a.owner.fps),l("beforeTween",a.owner,[c.current,a.originalState,a.to]),j(e,a,c),l("afterTween",a.owner,[c.current,a.originalState,a.to]),a.hook.step&&h("step",a.hook,a.owner,[c.current]),a.step.call(c.current)):a.owner.stop(!0)}function e(a,f){var e;e={};"string"===typeof f?
g(a,function(a,c){e[c]=f}):g(a,function(a,b){e[b]||(e[b]=f[b]||c)});return e}var f,c="linear",n;f="function"===typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:function(){return+new Date};b=function(a){a=a||{};this._hook={};this._tweenParams={owner:this,hook:this._hook,data:{}};this._state={};this._state.current=a.initialState||{};this.fps=a.fps||30;this.easing=a.easing||c;this.duration=a.duration||500;return this};b.prototype.tween=function(a,c,b,n,g){var d,h;if(!this._state.isTweening)return d=this._tweenParams,
h=this._state,this._state.loopId=0,this._state.pausedAtTime=null,c?(d.step=function(){},d.to=c||{},d.duration=b||this.duration,d.callback=n||function(){},d.easing=g||this.easing,h.current=a||{}):(d.step=a.step||function(){},d.callback=a.callback||function(){},d.to=a.to||a.target||{},d.duration=a.duration||this.duration,d.easing=a.easing||this.easing,h.current=a.from||{}),d.timestamp=f(),i(h.current,d.to),i(d.to,h.current),d.easing=e(h.current,d.easing),l("tweenCreated",d.owner,[h.current,d.originalState,
d.to]),d.originalState=k({},h.current),h.isTweening=!0,this.resume(),a.start&&a.start(),this};b.prototype.to=function(a,c,f,e){"undefined"===typeof c?(a.from=this.get(),this.tween(a)):this.tween(this.get(),a,c,f,e);return this};b.prototype.get=function(){return this._state.current};b.prototype.set=function(a){this._state.current=a||{};return this};b.prototype.stop=function(a){clearTimeout(this._state.loopId);this._state.isTweening=!1;a&&(k(this._state.current,this._tweenParams.to),l("afterTweenEnd",
this,[this._state.current,this._tweenParams.originalState,this._tweenParams.to]),this._tweenParams.callback.call(this._state.current));return this};b.prototype.pause=function(){clearTimeout(this._state.loopId);this._state.pausedAtTime=f();this._state.isPaused=!0;return this};b.prototype.resume=function(){this._state.isPaused&&(this._tweenParams.timestamp+=f()-this._state.pausedAtTime);m(this._tweenParams,this._state);return this};b.prototype.hookAdd=function(a,c){this._hook.hasOwnProperty(a)||(this._hook[a]=
[]);this._hook[a].push(c)};b.prototype.hookRemove=function(a,c){var f;if(this._hook.hasOwnProperty(a))if(c)for(f=this._hook[a].length;0<=f;f++)this._hook[a][f]===c&&this._hook[a].splice(f,1);else this._hook[a]=[]};b.prototype.filter={};b.util={now:f,each:g,tweenProps:j,tweenProp:d,applyFilter:l,simpleCopy:k,weakCopy:i,composeEasingObject:e};n=b.prototype.formula={linear:function(a){return a}};if("object"===typeof exports)module.exports=b;else if("function"===typeof define&&define.amd)define(function(){return b});
else if("undefined"===typeof a.Tweenable)a.Tweenable=b})(this);(function(){b.util.simpleCopy(b.prototype.formula,{easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return 1>(a/=0.5)?0.5*Math.pow(a,2):-0.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return 1>(a/=0.5)?0.5*Math.pow(a,3):0.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,
4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return 1>(a/=0.5)?0.5*Math.pow(a,4):-0.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return 1>(a/=0.5)?0.5*Math.pow(a,5):0.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return-Math.cos(a*(Math.PI/2))+1},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-0.5*(Math.cos(Math.PI*
a)-1)},easeInExpo:function(a){return 0==a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1==a?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){return 0==a?0:1==a?1:1>(a/=0.5)?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return 1>(a/=0.5)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return a<1/2.75?7.5625*
a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},easeInBack:function(a){return a*a*(2.70158*a-1.70158)},easeOutBack:function(a){return(a-=1)*a*(2.70158*a+1.70158)+1},easeInOutBack:function(a){var b=1.70158;return 1>(a/=0.5)?0.5*a*a*(((b*=1.525)+1)*a-b):0.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin((6*a-1)*2*Math.PI/2)+1},swingFromTo:function(a){var b=1.70158;return 1>(a/=0.5)?0.5*a*
a*(((b*=1.525)+1)*a-b):0.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},swingFrom:function(a){return a*a*(2.70158*a-1.70158)},swingTo:function(a){return(a-=1)*a*(2.70158*a+1.70158)+1},bounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bouncePast:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?2-(7.5625*(a-=1.5/2.75)*a+0.75):a<2.5/2.75?2-(7.5625*(a-=2.25/2.75)*a+0.9375):2-(7.5625*(a-=2.625/2.75)*a+0.984375)},
easeFromTo:function(a){return 1>(a/=0.5)?0.5*Math.pow(a,4):-0.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,0.25)}})})();(function(){function a(a,b){return function(){a();b.shift();if(b.length)b[0]();else b.running=!1}}function g(a,b,g,d,h,l){return function(){g?a.tween(b,g,d,h,l):(b.callback=h,b.from?a.tween(b):a.to(b))}}b.prototype.queue=function(b,i,j,d,h){if(!this._tweenQueue)this._tweenQueue=[];d=d||b.callback||function(){};d=a(d,
this._tweenQueue);this._tweenQueue.push(g(this,b,i,j,d,h));return this};b.prototype.queueStart=function(){if(!this._tweenQueue.running&&0<this._tweenQueue.length)this._tweenQueue[0](),this._tweenQueue.running=!0;return this};b.prototype.queueShift=function(){this._tweenQueue.shift();return this};b.prototype.queuePop=function(){this._tweenQueue.pop();return this};b.prototype.queueEmpty=function(){this._tweenQueue.length=0;return this};b.prototype.queueLength=function(){return this._tweenQueue.length}})();
(function(){function a(a){return parseInt(a,16)}function g(e){b.util.each(e,function(b,c){if("string"===typeof b[c]&&(d.test(b[c])||h.test(b[c]))){var e;e=b[c];e=e.replace(/#/g,"");3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);e=[a(e.substr(0,2)),a(e.substr(2,2)),a(e.substr(4,2))];b[c]="rgb("+e[0]+","+e[1]+","+e[2]+")"}})}function k(a){var f;f=[];b.util.each(a,function(a,e){"string"===typeof a[e]&&(d.test(a[e])||h.test(a[e])||l.test(a[e]))&&f.push(e)});return f}function i(a,b){var c,
d,h;d=b.length;for(c=0;c<d;c++)h=a[b[c]].match(/(\d+)/g),a["__r__"+b[c]]=+h[0],a["__g__"+b[c]]=+h[1],a["__b__"+b[c]]=+h[2],delete a[b[c]]}function j(a,b){var c,d;d=b.length;for(c=0;c<d;c++)a[b[c]]="rgb("+parseInt(a["__r__"+b[c]],10)+","+parseInt(a["__g__"+b[c]],10)+","+parseInt(a["__b__"+b[c]],10)+")",delete a["__r__"+b[c]],delete a["__g__"+b[c]],delete a["__b__"+b[c]]}var d=/^#([0-9]|[a-f]){3}$/i,h=/^#([0-9]|[a-f]){6}$/i,l=/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)\s*$/i,m;if(b)b.prototype.filter.color=
{tweenCreated:function(a,b,c){g(a);g(b);g(c)},beforeTween:function(a,b,c){m=k(b);i(a,m);i(b,m);i(c,m);var a=this._tweenParams.easing,b=m,d;d=b.length;for(c=0;c<d;c++)a["__r__"+b[c]]=a[b[c]],a["__g__"+b[c]]=a[b[c]],a["__b__"+b[c]]=a[b[c]]},afterTween:function(a,b,c){j(a,m);j(b,m);j(c,m);var a=this._tweenParams.easing,b=m,d;d=b.length;for(c=0;c<d;c++)delete a["__r__"+b[c]],delete a["__g__"+b[c]],delete a["__b__"+b[c]]}}})();(function(){function a(a){var d;d={};b.util.each(a,function(a,b){"string"===
typeof a[b]&&i.test(a[b])&&(d[b]={suffix:a[b].match(i)[0]})});return d}function g(a,d){b.util.each(d,function(b,e){a[e]=+a[e].replace(j,"")})}function k(a,d){b.util.each(d,function(b,d){a[d]+=b[d].suffix})}var i=/(px|em|%|pc|pt|mm|cm|in|ex)/i,j=/([a-z]|%)/gi,d;b.prototype.filter.token={beforeTween:function(b,i,j){d=a(i);g(b,d);g(i,d);g(j,d)},afterTween:function(a,b,g){k(a,d);k(b,d);k(g,d)}}})();(function(){if(b)b.util.interpolate=function(a,g,k,i){var j;if(a&&a.from)g=a.to,k=a.position,i=a.easing,
a=a.from;j=new b;j._tweenParams.easing=i;i=b.util.simpleCopy({},a);b.util.applyFilter("tweenCreated",j,[i,a,g]);b.util.applyFilter("beforeTween",j,[i,a,g]);var d=a,h=g,l;l=b.util.composeEasingObject(d,j._tweenParams.easing);i=b.util.tweenProps(k,{originalState:d,to:h,timestamp:0,duration:1,easing:l},{current:i});b.util.applyFilter("afterTween",j,[i,a,g]);return i},b.prototype.interpolate=function(a,g,k){a=b.util.interpolate(this.get(),a,g,k);this.set(a);return a}})()})();
